<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>jQuery-1.6.4</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="http://code.jquery.com/jquery-1.6.4.js"></script>
    <script>
        /**
         * «Выравнивание» строки по правому краю
         * @param {number} width ширина строки
         * @param {string} [fill] символ-заполнитель
         * @returns {string}
         */
        String.prototype.rightJustify = function (width, fill) {
            "use strict";

            return new Array(Math.max(0, width - this.length + 1)).join((fill || ' ')[0]) + this;
        };

        function lol() {
            function getHex() {
                return Math.floor(Math.random() * 256).toString(16).rightJustify(2, '0');
            }

            return '#' + getHex() + getHex() + getHex();
        }

        $(document).ready(function () {
            $('.button-close').live('click', function (e) {
                e.stopImmediatePropagation();
                $(this).closest('.window').remove();
            });

            var $div =
                    $('<div/>').addClass('window absolute').append(
                            $('<div/>').addClass('hover-menu static').append(
                                    $('<div/>').addClass('absolute small-square blue right-top button-close')
                            )
                    );

            $('.window').live('click', function (e) {
                e.stopImmediatePropagation();

                $(this).prepend(
                        $div.clone().width($(this).width() / 2).height($(this).height() / 2).css({
                            'background-color' : lol(),
                            'top'              : Math.random() * $(this).height() / 2,
                            'left'             : Math.random() * $(this).width() / 2
                        })
                );
            });
        });
    </script>
    <style>
        .hover-menu {
            display : none;
        }

        .window {
        }

        .window:hover > .hover-menu {
            display : block;
        }

        .window:hover ~ .hover-menu {
            display : none;
        }
    </style>
</head>
<body>
<div class="window absolute left-top right-bottom green">
    <!--<div class="content absolute left-top right-bottom">-->
        <!--<div class="absolute medium-square red right-top"></div>-->
    <!--</div>-->
    <!--<div class="hover-menu static">-->
        <!--<div class="absolute small-square blue right-bottom"></div>-->
    <!--</div>-->
</div>
</body>
</html>