<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>hover-menu</title>
    <style>
        div {
            position : absolute;
        }

        .window {
            z-index : 2;
            /*background-color: green;*/
        }

        .hover-menu {
            top     : 0;
            left    : 0;
            right   : 0;
            bottom  : 0;
            display : none;
            z-index : 1;
        }

        #main {
            position         : fixed;
            top              : 0;
            left             : 0;
            right            : 0;
            bottom           : 0;
            background-color : coral !important;
        }

        .window:hover > .hover-menu {
            display : block;
        }

        .window:hover ~ .hover-menu {
            display : none;
        }

        .button-close {
            height           : 8px;
            width            : 8px;
            top              : 4px;
            right            : 4px;
            background-color : black;
        }

    </style>
    <script src="http://code.jquery.com/jquery-1.6.4.js"></script>
    <script>
        /**
         * TODO описание
         * @param {number} width TODO описание
         * @param {string} [fill] символ-заполнитель
         * @returns {string}
         */
        String.prototype.rightJustify = function (width, fill) {
            "use strict";

            return new Array(Math.max(0, width - this.length + 1)).join((fill || ' ')[0]) + this;
        };

        function lol() {
            function getHex() {
                return Math.floor(Math.random() * 256).toString(16).rightJustify(2, '0');
            }

            return '#' + getHex() + getHex() + getHex();
        }

        $(document).ready(function () {
            $('.button-close').live('click', function (e) {
                e.stopImmediatePropagation();
                $(this).closest('.window').remove();
            });

            var $div =
                    $('<div/>').addClass('window').append(
                            $('<div/>').addClass('hover-menu').append(
                                    $('<div/>').addClass('button-close')
                            )
                    );

            $('.window').live('click', function (e) {
                e.stopImmediatePropagation();

                $(this).prepend(
                        $div.clone().width($(this).width() / 2).height($(this).height() / 2).css({
                            'background-color' : lol(),
                            'top'              : Math.random() * $(this).height() / 2,
                            'left'             : Math.random() * $(this).width() / 2
                        })
                );
            });
        });
    </script>
</head>
<body>
<div id="main" class="window"></div>
</body>
</html>