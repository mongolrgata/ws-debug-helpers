(function(a){var b;(function(){if(!a.prop||b){return;}var c=function(){b=!!a("<input />").prop("validity");};c();a(c);})();a.widget("ui.checkBox",{options:{hideInput:true,addVisualElement:true,addLabel:true},_create:function(){var d=this,c=this.options;if(!this.element.is(":radio,:checkbox")){if(this.element[0].elements&&a.nodeName(this.element[0],"form")){a(this.element[0].elements).filter(":radio,:checkbox").checkBox(c);}return false;}this._proxiedReflectUI=a.proxy(this,"reflectUI");this.labels=a([]);this.checkedStatus=false;this.disabledStatus=false;this.hoverStatus=false;this.inputType=this.element[0].type;this.radio=this.inputType=="radio";this.visualElement=a([]);if(c.hideInput){this.element.addClass("ui-helper-hidden-accessible");if(c.addVisualElement){this.visualElement=a("<span />").addClass("ui-"+this.inputType);this.element.after(this.visualElement[0]);}}if(c.addLabel){var e=this.element[0].id;if(e){this.labels=a('label[for="'+e+'"]',this.element[0].form||this.element[0].ownerDocument).add(this.element.parent("label"));}if(!this.labels[0]){this.labels=this.element.closest("label",this.element[0].form);}this.labels.addClass(this.radio?"ui-radio":"ui-checkbox");}this.visualGroup=this.visualElement.add(this.labels);this._addEvents();this.initialized=true;this.reflectUI({type:"initialreflect"});return undefined;},_addEvents:function(){var e=this,d=this.options,c=function(f){if(e.disabledStatus){return false;}e.hover=(f.type=="focus"||f.type=="mouseenter");if(f.type=="focus"){e.visualGroup.addClass(e.inputType+"-focused");}else{if(f.type=="blur"){e.visualGroup.removeClass(e.inputType+"-focused");}}e._changeStateClassChain();return undefined;};this.element.bind("click.checkBox invalid.checkBox",this._proxiedReflectUI).bind("focus.checkBox blur.checkBox",c);if(d.hideInput){this.element.bind("usermode",function(f){(f.enabled&&e.destroy.call(e,true));});}if(d.addVisualElement){this.visualElement.bind("click.checkBox",function(f){if(e.labels.find("input")[0]!=e.element[0]){e.element[0].click();return false;}});}this.visualGroup.bind("mouseenter.checkBox mouseleave.checkBox",c);},_changeStateClassChain:function(){var e=this.labels.add(this.visualElement),f="",d="ui-"+this.inputType;if(this.checkedStatus){f+="-checked";e.addClass(d+"-checked");}else{e.removeClass(d+"-checked");}if(this.disabledStatus){f+="-disabled";e.addClass(d+"-disabled");}else{e.removeClass(d+"-disabled");}if(this.hover){f+="-hover";e.addClass(d+"-hover");}else{e.removeClass(d+"-hover");}d+="-state";if(f){f=d+f;}function c(){var g=this.className.split(" "),h=false;a.each(g,function(j,k){if(k.indexOf(d)===0){h=true;g[j]=f;return false;}return undefined;});if(!h){g.push(f);}this.className=g.join(" ");}this.visualGroup.each(c);},destroy:function(c){this.element.removeClass("ui-helper-hidden-accessible");this.visualElement.addClass("ui-helper-hidden");if(!c){var d=this.options;this.element.unbind(".checkBox");this.visualElement.remove();this.labels.unbind(".checkBox").removeClass("ui-state-hover ui-state-checked ui-state-disabled");}},disable:function(c){if(c===undefined){c=true;}this.element[0].disabled=c;this.reflectUI({type:"manuallydisabled"});},enable:function(){this.element[0].disabled=false;this.reflectUI({type:"manuallyenabled"});},toggle:function(c){this.changeCheckStatus(!(this.element.is(":checked")),c);},changeCheckStatus:function(c,d){if(d&&d.type=="click"&&this.element[0].disabled){return false;}this.element[0].checked=!!c;this.reflectUI(d||{type:"changecheckstatus"});return undefined;},propagate:function(g,f,c){if(!f||f.type!="initialreflect"){if(this.radio&&!c){var d=this.element[0];a('[name="'+d.name+'"]',d.form||d.ownerDocument).checkBox("reflectUI",f,true);}return this._trigger(g,f,{options:this.options,checked:this.checkedStatus,labels:this.labels,disabled:this.disabledStatus});}return undefined;},changeValidityState:function(){if(b){this.visualGroup[!this.element.prop("willValidate")||(this.element.prop("validity")||{valid:true}).valid?"removeClass":"addClass"](this.inputType+"-invalid");}},reflectUI:function(f){var c=this.checkedStatus,d=this.disabledStatus;this.disabledStatus=this.element.is(":disabled");this.checkedStatus=this.element.is(":checked");if(!f||f.type!=="initialreflect"){this.changeValidityState();}if(this.disabledStatus!=d||this.checkedStatus!==c){this._changeStateClassChain();(this.disabledStatus!=d&&this.propagate("disabledchange",f));(this.checkedStatus!==c&&this.propagate("change",f));}}});if(a.propHooks){a.each({checked:"changeCheckStatus",disabled:"disable"},function(d,e){if(!a.propHooks[d]){a.propHooks[d]={};}var c=a.propHooks[d].set;a.propHooks[d].set=function(f,h){var g=a.data(f,"checkBox");if(g){g[e](!!h);}return c&&c(f,h);};});}})(jQuery);