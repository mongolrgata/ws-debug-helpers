$ws.declareModule({namespace:"SBIS3.CORE",name:"ProgressBar",imports:["SBIS3.CORE.Control"]},function(a){$ws.proto.ProgressBar=a.Control.extend({$protected:{_border:null,_progress:null,_options:{width:"auto",align:"center"}},$constructor:function(b){this._redraw(true);},setProgress:function(b){b=parseInt(b,10);if(b<=100&&b>=0){if(b>0){this._progress.find(".ws-progressbar-indicator-left, .ws-progressbar-indicator-right").show();}else{if(b===0){this._progress.find(".ws-progressbar-indicator-left, .ws-progressbar-indicator-right").hide();}}this._progress.width(b+"%");this._border.find("span").text(b+"%");return true;}else{return false;}},_getMarkupTemplate:function(){return"         <div class='ws-progressbar' style='width:{{=it.width}}px;         {{? it.width !== 'auto' }}            {{? it.align === 'center'}}               margin:0 auto;            {{??}}               float:{{=it.align}};            {{?}}         {{?}}         '>            <div class='ws-progressbar-left'></div>            <div class='ws-progressbar-right'></div>            <div class='ws-progressbar-border'>               <div class='ws-progressbar-border-left'></div>               <div class='ws-progressbar-border-right'></div>               <span style='font-size: 10px;position: absolute;left: 47%;margin-top: -2px; z-index: 2'></span>               <div class='ws-progressbar-indicator'>                  <div class='ws-progressbar-indicator-left'></div>                  <div class='ws-progressbar-indicator-right'></div>               </div>            </div>         </div>";},_createMarkup:function(b){return this._extendMarkup(b,this._getMarkupTemplate());},_redraw:function(b){if((b&&!this._hasMarkup())||!b){if(!$ws.proto.ProgressBar.__markupTemplate){$ws.proto.ProgressBar.__markupTemplate=doT.template(this._getMarkupTemplate());}if(!b){this._progressBar.remove();}this._container.append($($ws.proto.ProgressBar.__markupTemplate(this._options)));this._progress=this._container.find(".ws-progressbar-indicator");this._border=this._container.find(".ws-progressbar-border");this._progressBar=this._container.find(".ws-progressbar");this._progress.width("0px");this.setProgress(0);}this.setEnabled(this._options.enable);}});return $ws.proto.ProgressBar;});